$(function(){if("undefined"!=typeof AccountDock){var c=$("#billing"),n=c.data("stripe-id"),o=AccountDock.configure({key:"ad_acco_9fef40229188e8c0",customer:n});c.on("click",function(){o.open()})}});
$(function(){function t(){e=$("#npm-search").outerWidth()-$("#site-search-submit").outerWidth(),o.innerHTML=".autocomplete-container, .autocomplete-suggestions, #powered-by-constructor-io { width: "+e+"px !important }"}var e,o=document.createElement("style");document.head.appendChild(o),$(window).resize(t),t(),$.getScript("//cnstrc.com/js/ac.js",function(){$("#site-search").constructorAutocomplete({key:"CD06z4gVeqSXRiDL2ZNK",directResults:!0,maxHeight:400})})});
!function(e,n,t,a,o,i,c){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=n.createElement(t),c=n.getElementsByTagName(t)[0],i.async=1,i.src=a,c.parentNode.insertBefore(i,c)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create",$('meta[name="x-npm:ga:id"]').attr("content"),"auto"),ga("require","displayfeatures"),ga("send","pageview"),$(document).ready(function(){$(document).on("click",".hiring-widget a",function(){ga("send","event","Hiring Ads","click",$(this).parent().data("id"))}),$(document).on("click",".ad a",function(){ga("send","event","Hiring Ads","click",$(this).attr("title"))});try{var e=JSON.parse($('meta[name="x-npm:ga:dimensions"]').attr("content")),n=function(n){var t={},a=$(n).data("promotion-id"),o=$(n).data("promotion-spot");return t[e[o]]=String(a),t};$(".promotion").each(function(e,t){ga("send","event","promotion","viewed",$(t).data("promotion-id"),n(t))}),$(document).on("click",".promotion a",function(){ga("send","event","promotion","clicked",$(element).data("promotion-id"),n(element))})}catch(t){console.error(t)}$('meta[name="x-npm:ga:event"]').each(function(e,n){var t=["send","event"];try{ga.apply(null,t.concat(JSON.parse(n.getAttribute("content"))))}catch(a){console.error(a)}}),$('nav a[href="/enterprise"]').click(function(){ga("send","event","npm Enterprise","click")}),$(document).on("click","[data-event-trigger='click']",function(){ga("send","event",$(this).data("eventName"),"click")})});
!function(e){"undefined"!=typeof StripeCheckout&&e(function(){var n,t=StripeCheckout.configure({key:e("input[type=hidden][data-key]").data("key"),image:"/static/images/n-64.png",token:function(t){t.amount=n,t.crumb=e('input[name="crumb"]').val(),e.ajax({url:"/joinwhoshiring",beforeSend:function(n){n.setRequestHeader("X-CSRF-Token",e('input[name="crumb"]').val())},data:t,type:"POST",headers:{"x-csrf-token":e('input[name="crumb"]').val()}}).done(function(){e("section").hide(),e("h1:last").after('<h2 style="color: green;">Thank you for your payment! We\'ll get back to you soon.</h2>')}).error(function(){e("section").hide(),e("h1:last").after('<h2 style="color: red;">Something went wrong. Please contact us at <a href="mailto:whoshiring@npmjs.com">whoshiring@npmjs.com</a>.</h2>')})}});e("#one-month").on("click",function(e){e.preventDefault(),n=35e3,t.open({name:"npm, Inc.",description:"Pay $350 for 1 month of advertising",amount:n})}),e("#three-months").click(function(e){n=1e5,t.open({name:"npm, Inc.",description:"Pay $1000 for 3 months of advertising",amount:n}),e.preventDefault()})})}(jQuery);